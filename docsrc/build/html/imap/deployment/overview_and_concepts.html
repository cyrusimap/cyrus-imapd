

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview and Concepts &mdash; Cyrus IMAP and SASL  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/cyrus.css" type="text/css" />
  

  
    <link rel="top" title="Cyrus IMAP and SASL  documentation" href="../../index.html"/>
        <link rel="up" title="IMAP Configuration Guide" href="../deployment.html"/>
        <link rel="next" title="Deployment Scenarios" href="deployment_scenarios.html"/>
        <link rel="prev" title="IMAP Configuration Guide" href="../deployment.html"/> 

  
  
  

</head>

<body class="wy-body-for-nav" role="document">

  
  
<div class="pageheader">
  <ul>
    <li><a href="../../index.html">Home</a></li>
    <li><a href="../installation.html">Download</a></li>
    <li><a href="../../contribute.html">Contribute</a></li>
    <li><a href="../../feedback.html">Support</a></li>
  </ul>
  <div>
    <a href="../../index.html">
      <img src="../../_static/logo.gif" alt="CYRUS" />
    </a>
  </div>
</div>
<div style="clear: both;"></div>


  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
 
          <a href="../../index.html">
 

  
          
          <img src="../../_static/logo.gif"  />
     
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">Welcome to Cyrus</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to Cyrus IMAP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#what-is-imap">What is IMAP?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">IMAP Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../features.html#security-and-authentication">Security and Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../features/authentication-kerberos.html">Kerberos Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/authentication-ldap.html">LDAP Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/authentication-sql.html">SQL Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/authentication-sql.html#pre-requisites">Pre-requisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/authentication-sql.html#database-structure">Database structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/authentication-sql.html#pam-configuration-for-use-with-saslauthd">PAM configuration for use with saslauthd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/authentication-sql.html#testing-the-sasl-configuration">Testing the SASL configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/authentication-sql.html#create-the-test-mailboxes-within-cyrus">Create the test mailboxes within Cyrus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/authentication-sql.html#testing-everything-together">Testing everything together</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/access-control.html">Access Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/access-control.html#discretionary-access-control">Discretionary Access Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/sealed-system.html">Sealed System Design</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#mailbox-management">Mailbox Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../features/automatic-creation-of-mailboxes.html">Automatic Creation of Mailboxes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/automatic-creation-of-mailboxes.html#autocreation-of-mailboxes">Autocreation of mailboxes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/automatic-creation-of-mailboxes.html#automatic-quota-settings">Automatic quota settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/automatic-creation-of-mailboxes.html#autocreation-of-sieve-scripts">Autocreation of Sieve scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/automatic-creation-of-mailboxes.html#automated-folder-subscriptions">Automated folder subscriptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/automatic-creation-of-mailboxes.html#autocreation-of-users">Autocreation of users</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/namespaces.html">Mailbox Namespaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#namespace-convention-netnews">Namespace Convention: <strong>netnews</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#namespace-convention-not-netnews">Namespace Convention: &#8220;not netnews&#8221;</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#alternate-namespace">Alternate Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#internal-namespace">Internal Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#administrator-namespaces">Administrator Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#imap-features-namespaces-personal">Personal Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#other-users-namespace">Other Users Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/namespaces.html#shared-namespaces">Shared Namespaces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/mailbox-annotations.html">Mailbox Annotations (METADATA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/mailbox-distribution.html">Mailbox Distribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/mailbox-distribution.html#partition-selection-mode">Partition Selection Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/mailbox-distribution.html#backend-selection-mode-cyrus-imap-murder">Backend Selection Mode (Cyrus IMAP Murder)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#message-management">Message Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../features/delayed-delete.html">Delayed Delete</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/delayed-delete.html#configuring-cyrus-imap-for-delayed-delete">Configuring Cyrus IMAP for Delayed Delete</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/delayed-expunge.html">Delayed Expunge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/delayed-expunge.html#configuring-cyrus-imap-for-delayed-expunge">Configuring Cyrus IMAP for Delayed Expunge</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/message-annotations.html">Message Annotations (METADATA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/duplicate-message-delivery-suppression.html">Duplicate Message Delivery Suppression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/shared-seen-state.html">Shared Seen State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/server-side-filtering.html">Server Side Filtering (Sieve)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/event-notifications.html">Event Notifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/event-notifications.html#available-event-notifications">Available Event Notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/event-notifications.html#example-event-notifications">Example Event Notifications</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#storage">Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../features/mail-spool-partitions.html">Mail Spool Partitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/mail-spool-partitions.html#storage-tiering-with-partitions">Storage Tiering with Partitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/mail-spool-partitions.html#restricting-storage-used-with-partitions">Restricting Storage Used with Partitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../features/mailbox-metadata-partitions.html">Mailbox Metadata Partitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/quota.html">Quota</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features/single-instance-store.html">Single-Instance Store</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#load-management">Load Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../features/server-aggregation.html">Cyrus IMAP Murder (Server Aggregation)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../features/server-aggregation.html#use-cases-for-the-cyrus-imap-murder">Use-Cases for the Cyrus IMAP Murder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../features/server-aggregation.html#cyrus-imap-murder-topologies">Cyrus IMAP Murder Topologies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../feedback.html">Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../feedback-bugs.html">Reporting Bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../feedback-mailing-lists.html">Mailing Lists</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../feedback-mailing-lists.html#archives">Archives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../feedback-mailing-lists.html#subscribe-unsubscribe">Subscribe/Unsubscribe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../feedback-mailing-lists.html#digest-lists">Digest Lists</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../feedback-irc.html">IRC Chat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../feedback-meetings.html">Online Meetings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/about_cyrus.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../overview/what_is_cyrus.html">What is Cyrus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview/what_is_cyrus.html#what-is-cyrus">What is Cyrus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/what_is_cyrus.html#what-is-imap">What is IMAP?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/what_is_cyrus.html#imap-version-4-imap4">IMAP Version 4 (IMAP4)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/what_is_cyrus.html#mime">Mime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/what_is_cyrus.html#smtp">SMTP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/who_is_cyrus.html">Who Is Cyrus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview/who_is_cyrus.html#core-contributors">Core Contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/who_is_cyrus.html#individual-contributors-and-past-contributors">Individual contributors and past contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/cyrus_roadmap.html">Cyrus Roadmap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_roadmap.html#high-level-roadmap">High Level Roadmap</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../overview/cyrus_roadmap.html#future">2.6 (Future)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../overview/cyrus_roadmap.html#id2">2.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../overview/cyrus_roadmap.html#x">2.4.x</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../overview/cyrus_roadmap.html#x-and-2-3-x">2.2.x and 2.3.x</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../overview/cyrus_roadmap.html#pre-2-2">pre 2.2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/cyrus_history.html">Cyrus History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview/cyrus_bylaws.html">Cyrus Bylaws</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_bylaws.html#i-the-cyrus-governance-board">I. The Cyrus Governance Board</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_bylaws.html#ii-the-cyrus-core-developers-group">II. The Cyrus Core Developers Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_bylaws.html#iii-the-release-engineer">III. The Release Engineer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_bylaws.html#iv-the-cyrus-roadmap">IV. The Cyrus Roadmap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_bylaws.html#v-development-process">V. Development Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview/cyrus_bylaws.html#vi-changes-to-the-bylaws">VI. Changes to the Bylaws</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Administrators</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">IMAP Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-using-packages">Installation Using Packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/distributions/centos.html">CentOS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation/distributions/centos.html#other-versions-of-cyrus-imap">Other Versions of Cyrus IMAP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../installation/distributions/debian.html">Debian</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/distributions/fedora.html">Fedora</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation/distributions/fedora.html#other-versions-of-cyrus-imap">Other Versions of Cyrus IMAP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../installation/distributions/opensuse.html">openSUSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/distributions/rhel.html">Red Hat Enterprise Linux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation/distributions/rhel.html#other-versions-of-cyrus-imap">Other Versions of Cyrus IMAP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../installation/distributions/ubuntu.html">Ubuntu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/obs.html">Open Build System Packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation/obs.html#series">2.5 Series</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation/obs.html#id2">2.4 Series</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#build-and-install-yourself">Build and Install Yourself</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/diy.html">Do It Yourself</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation/diy.html#from-git">From GIT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation/diy.html#from-tarball">From Tarball</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation/diy.html#build-dependencies">Build Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation/diy.html#configure-the-build">Configure the Build</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#external-tools">External Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#licensing">Licensing</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../deployment.html">IMAP Configuration Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#a-guide-to-planning-a-cyrus-imap-deployment">A Guide to Planning a Cyrus IMAP Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../deployment.html#contents">Contents</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">Overview and Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cyrus-imap">Cyrus IMAP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cyrus-imap-features">Cyrus IMAP Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initial-acls-for-newly-created-mailboxes">Initial ACLs for Newly Created Mailboxes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#login-authentication">Login Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quota">Quota</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#html-block-that-was-commented-out-in-xml">HTML Block that was commented out in XML</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#partitions">Partitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deployment_scenarios.html">Deployment Scenarios</a><ul>
<li class="toctree-l4"><a class="reference internal" href="deployment_scenarios.html#single-server-deployments">Single Server Deployments</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment_scenarios.html#multi-server-deployments">Multi Server Deployments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deployment_scenarios.html#id1">Cyrus IMAP Murder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="deployment_scenarios.html#the-discrete-murder">The Discrete Murder</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment_scenarios.html#the-unified-murder">The Unified Murder</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment_scenarios.html#the-shared-murder">The Shared Murder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deployment_scenarios.html#cyrus-replication">Cyrus Replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="deployment_scenarios.html#hosted-environments">Hosted Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="deployment_scenarios.html#mailbox-creation-distribution">Mailbox Creation Distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html">Mailbox Creation Distribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#selection-mode">Selection Mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html#usage-convergence">Usage convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html#computed-weight">Computed weight</a></li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html#special-cases">Special cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#what-happens-when-two-partitions-are-equal-as-most-fitting">What happens when two partitions are equal as most fitting?</a></li>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#what-happens-when-two-partitions-point-to-the-same-device">What happens when two partitions point to the same device?</a></li>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#partitions-exclusion">Partitions Exclusion</a></li>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#partitions-usage-data-reset">Partitions Usage Data Reset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html#mailbox-creation-distribution-through-murder-frontend">Mailbox Creation Distribution Through <code class="docutils literal"><span class="pre">murder</span> <span class="pre">frontend</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#id1">Selection Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="mailbox_creation_distribution.html#available-selection-modes-on-frontend">Available Selection Modes on Frontend</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html#backends-exclusion">Backends Exclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="mailbox_creation_distribution.html#backends-usage-data-reset">Backends Usage Data Reset</a></li>
<li class="toctree-l3"><a class="reference internal" href="known_protocol_limitations.html">Known Protocol Limitations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="known_protocol_limitations.html#pop3-and-mailbox-locking">POP3 and Mailbox Locking</a></li>
<li class="toctree-l4"><a class="reference internal" href="known_protocol_limitations.html#cyrus-imap-pop3-implementation">Cyrus IMAP POP3 Implementation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="authentication_and_authorization.html">Authentication and Authorization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="authentication_and_authorization.html#client-authentication">Client Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="authentication_and_authorization.html#users-and-mailboxes">Users and Mailboxes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="performance_recommendations.html">Performance Recommendations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="performance_recommendations.html#databases-on-temporary-filesystems">Databases on Temporary Filesystems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="storage.html">Storage Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="storage.html#general-notes-on-storage">General Notes on Storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="storage.html#redundancy">Redundancy</a></li>
<li class="toctree-l4"><a class="reference internal" href="storage.html#availability">Availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="storage.html#performance">Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="storage.html#scalability">Scalability</a></li>
<li class="toctree-l4"><a class="reference internal" href="storage.html#capacity">Capacity</a></li>
<li class="toctree-l4"><a class="reference internal" href="storage.html#cost">Cost</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="supported-platforms.html">Supported Platforms and System Requirements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="supported-platforms.html#building-cyrus-imap">Building Cyrus IMAP</a></li>
<li class="toctree-l4"><a class="reference internal" href="supported-platforms.html#required-software-components">Required Software Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="supported-platforms.html#recommended-software-components">Recommended Software Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="supported-platforms.html#recommended-software-components-enabled-by-default">Recommended Software Components Enabled by Default</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">IMAP Administrator Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../admin.html#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/architecture.html">System Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#high-level-architecture">High Level Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#cyrus-murder">Cyrus Murder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#replication">Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#invoking-cyrus">Invoking Cyrus</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin.html#management">Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/murder/murder.html">Cyrus Murder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/murder/murder-concepts.html">Cyrus Murder: Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/murder/murder-installation.html">Cyrus Murder: Installation and Administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/murder/murder-mupdate-details.html">Cyrus Murder Mupdate Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/murder/murder-failure-modes.html">Cyrus Murder Failure Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/murder/murder-mail-delivery.html">Cyrus Murder Mail Delivery</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/access-control.html">Access Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/access-control/combining-rights.html">Combining Access Rights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/access-control/defaults.html">Access Control Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/access-control/rights-reference.html">Access Control Lists Rights Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/access-control.html#discretionary-access-control">Discretionary Access Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/nntp.html">Cyrus NNTP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/nntp.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/nntp.html#nntp-setup">NNTP Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/nntp.html#defining-newsgroups">Defining Newsgroups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/nntp.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/nntp.html#further-information">Further information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/protlayer.html">Cyrus Prot Layer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/protlayer.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/sieve.html">Cyrus Sieve</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/sieve.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sieve.html#installing-sieve">Installing Sieve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sieve.html#managing-sieve-scripts">Managing Sieve Scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sieve.html#testing-the-sieve-server">Testing the sieve server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sieve.html#cyrus-sieve-support">Cyrus Sieve Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sieve.html#writing-sieve">Writing Sieve</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/sop.html">Standard Operating Procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/replication.html">Replication: Installation and Administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/mailbox-operations.html">Mailbox Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/reloading.html">Reloading Cyrus IMAP Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/altnamespace.html">Alternative Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/databases.html">Database Conversion, Export and Import</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/deleting.html">Deleting and Undeleting Messages and Folders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/virtual-domains.html">Cyrus Virtual Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/administration-running.html">Running Cyrus IMAP Services on Non-Standard Ports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/reconstructing.html">Reconstructing Mailboxes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/squatter.html">Using Squatter for Faster IMAP SEARCH</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/splitting-metadata.html">Splitting Metadata from Partitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/sop/userdeny.html">Managing user_deny.db</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/eventsource.html">Cyrus Event Source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/eventsource.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/eventsource.html#compile-options">Compile options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/eventsource.html#configuration-options">Configuration options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/eventsource.html#event-types">Event Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/eventsource.html#accessing-events">Accessing events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/eventsource.html#apple-push-service">Apple Push Service</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/config-mailboxdistribution.html">Mailbox Distribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/config-mailboxdistribution.html#selection-modes">Selection Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config-mailboxdistribution.html#special-cases">Special cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/config-mailboxdistribution.html#application">Application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/nginx-proxy.html">HOWTO: Using an NGINX IMAP Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/tweaking.html">Tweaking Cyrus IMAP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/tweaking.html#storage-tiering">Storage Tiering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/tweaking.html#synchronous-file-operations">Synchronous File Operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin.html#references">References</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/commands.html">Administrative Commands &amp; Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/commands.html#list-of-configuration-files-formats-and-settings">List of Configuration Files, Formats and Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/commands.html#list-of-system-command-line-utilities">List of System Command-line Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/commands.html#list-of-user-command-line-utilities">List of User Command-line Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/commands.html#work-in-progress">Work-in-Progress</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/pycommands.html">PyCyrus Commands &amp; Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/pycommands/undelete-mailbox.html"><code class="docutils literal"><span class="pre">undelete-mailbox</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/administration-tools.html">Tools &amp; Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#arbitron">arbitron</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#arbitronsort-pl">arbitronsort.pl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#chk-cyrus">chk_cyrus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#convert-sieve-pl">convert-sieve.pl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#ctl-cyrusdb">ctl_cyrusdb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#ctl-deliver">ctl_deliver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#ctl-mboxlist">ctl_mboxlist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cvt-cyrusdb">cvt_cyrusdb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cvt-cyrusdb-all">cvt_cyrusdb_all</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyr-dbtool">cyr_dbtool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyr-df">cyr_df</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyrdump">cyrdump</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyr-expire">cyr_expire</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#fetchnews">fetchnews</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyr-sequence">cyr_sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyr-synclog">cyr_synclog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#cyr-userseen">cyr_userseen</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#masssievec">masssievec</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#mbexamine">mbexamine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#mbpath">mbpath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#migrate-metadata">migrate-metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#mkimap">mkimap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#mknewsgroups">mknewsgroups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#rehash">rehash</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#translatesieve">translatesieve</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#undohash">undohash</a></li>
<li class="toctree-l4"><a class="reference internal" href="../admin/administration-tools.html#upgradesieve">upgradesieve</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin/access-control/rights-reference.html">Access Control Lists Rights Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin.html#other">Other</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../admin/packagers.html">Notes for Packagers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../admin/packagers.html#services-in-etc-services">Services in <code class="docutils literal"><span class="pre">/etc/services</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">IMAP Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#features">Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faqs/feature-database-backend.html">Which database backend should I use for which databases?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/feature-duplicate-delivery.html">Duplicate Delivery Suppression</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#installation-problems">Installation Problems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faqs/install-compilationerrors.html">Compilation errors about kssl.h and krb5.h on Red Hat Linux/Fedora</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/install-detecting-berkeley.html">Problems detecting Berkley DB on Red Hat Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/install-install-help.html">Help! There must be an easier way to get all this going...</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#common-feature-requests">Common Feature Requests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faqs/r-murder-ha.html">Does the Cyrus Murder support High Availability configurations?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/r-pop3-logging.html">Can I configure pop3d to log amount and size of messages fetched by user?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/r-publicssharedfolders.html">How can I make CyrusSieve work with public shared folders?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/r-subfolders.html">Can I have subfolders not appear under INBOX?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#common-operational-questions">Common Operational Questions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-acls.html">How do I view ACLs on a mailbox?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-annotations.html">What annotations are available?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-berkeleydb.html">Why does ctl_cyrusdb -r take so long with Berkeley DB?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-configdir-tempfs.html">Is it safe to put configdir/proc and configdir/lock on a tmpfs filesystem?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-db3-lockers.html">Is the &#8220;db3: x Lockers&#8221; log message harmful?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-delete-mailbox.html">Why can I not delete a mailbox as an admin user?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-deleted-expired-expunged-purged.html">When is What ... Deleted, Expired, Expunged or Purged?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../faqs/o-deleted-expired-expunged-purged.html#users-and-imap-clients-deleting-messages">Users and IMAP Clients Deleting Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/o-deleted-expired-expunged-purged.html#deleting-folders">Deleting Folders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/o-deleted-expired-expunged-purged.html#where-are-the-messages">Where are the Messages?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-deliverdb-size.html">Why is deliver.db so large?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-freezes.html">I have multiple imapd-SERVICES configured and experience occasional freezes when I try to log in!</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-mailbox-doesnotexist.html">Cyrus delivers claims that the mailbox does not exist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-mixedcase.html">Why is mail being rejected with No Mailbox found due to MiXed CaSe incoming e-mail?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-otherdatabases.html">Can I use MySQL (or another SQL database) as the primary mail store?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-pop3slow.html">Why do POP3 connections take so long, but once the connection is established all is well?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-reconstruct.html">Why does reconstruct -m not work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-sharedfilesystem-gpfs.html">Shared File Systems GPFS for high availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-telemetry.html">How to enable telemetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-toomanyprocesses.html">The process count keeps growing!</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../faqs/o-toomanyprocesses.html#reuse-count">1. Reuse count</a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/o-toomanyprocesses.html#maximum-child-count">2. Maximum child count</a></li>
<li class="toctree-l4"><a class="reference internal" href="../faqs/o-toomanyprocesses.html#clean-up-connections-that-are-no-longer-in-use">3. Clean up connections that are no longer in use</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-unable-join-environment.html">&#8220;unable to join environment&#8221; error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/o-vacation-mailfrom.html">Why does Cyrus set the MAIL FROM address of the sender of vacation responses to &#8216;&lt;&gt;&#8217;?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html#common-interoperability-problems">Common Interoperability Problems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../faqs/interop-8bit.html">Why does Cyrus reject 8-bit characters in the headers of my messages?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/interop-barenewlines.html">Why does Cyrus reject messages with &#8220;bare newlines&#8221;?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/interop-sieve-exim.html">How do I get Cyrus Sieve to play nice with Exim?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faqs/interop-slow-delivery.html">Why does mail delivery go slow or hang sometimes?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/index.html">IMAP Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release-notes/index.html#currently-stable-version">Currently Stable Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes/index.html#current-development-version">Current Development Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes/index.html#currently-supported-product-series">Currently Supported Product Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../release-notes/index.html#series-2-5">Series 2.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.5/index.html">Cyrus IMAP 2.5 Releases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../release-notes/index.html#series-2-4">Series 2.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.4/index.html">Cyrus IMAP 2.4 Releases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.4-dav/index.html">Cyrus IMAP 2.4-caldav Releases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes/index.html#all-versions-going-back-way-back-when">All Versions Going Back Way Back When</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../release-notes/index.html#series-1">Series 1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/1/1.x.x.html">Cyrus IMAP 1.x Release Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../release-notes/index.html#series-2-2-0-2-3">Series 2: 2.0 - 2.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.0/2.0.x.html">Cyrus IMAP 2.0.x Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.1/2.1.x.html">Cyrus IMAP 2.1.x Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.2/2.2.x.html">Cyrus IMAP 2.2.x Release Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release-notes/2.3/index.html">Cyrus IMAP 2.3 Releases</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute.html#contribute-financially">Contribute Financially</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute.html#website-content-contributions">Website Content Contributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute.html#contribute-code">Contribute Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer.html">IMAP Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/overview.html">Overview of Cyrus development environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/overview.html#the-pre-requisites">The pre-requisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/overview.html#the-components">The components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/installguide.html">Developer Environment Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/installguide.html#cyrus">Cyrus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/installguide.html#arcanist">Arcanist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/installguide.html#setting-up-syslog">Setting up syslog</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/basicserver.html">Running a basic server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#update-your-system">1. Update your system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#install-cyrus-3rd-party-dependencies">2. Install Cyrus 3rd party dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#the-cyrus-mail-user">3. The cyrus:mail user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#setting-up-authentication-with-sasl">4. Setting up authentication with SASL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#enabling-mail-delivery-with-lmtp">5. Enabling mail delivery with LMTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#protocol-ports">6. Protocol ports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#configuring-cyrus">7. Configuring Cyrus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#launch-cyrus">8. Launch Cyrus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#optional-setting-up-ssl-certificates">Optional: Setting up SSL certificates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#sending-a-test-email">Sending a test email</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#checking-carddav">Checking carddav</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#checking-caldav">Checking caldav</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/basicserver.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/developer-testing.html">Developer Test Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/developer-testing.html#installing-cassandane">Installing Cassandane</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/developer-testing.html#rebuild-cyrus-for-testing">Rebuild Cyrus for Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/developer-testing.html#running-the-tests">Running the tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/developer-testing.html#tips-and-tricks">Tips and Tricks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/process.html">Development Process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/process.html#coding-style">Coding Style</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/process.html#making-changes">Making changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/process.html#useful-developer-information">Useful Developer Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/process.html#community-participation">Community Participation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/architecture.html">System Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#high-level-architecture">High Level Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#cyrus-murder">Cyrus Murder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#replication">Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/architecture.html#invoking-cyrus">Invoking Cyrus</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/jmap.html">JMAP support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/jmap.html#cyrus-administration">Cyrus administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/jmap.html#jmap-client">JMAP client</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/jmap.html#jmap-implementation-in-cyrus">JMAP implementation in Cyrus</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/documentation.html">Contributing to documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/documentation.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/documentation.html#documentation-tools">Documentation Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/documentation.html#checking-the-files">Checking the files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/documentation.html#submitting-updates">Submitting updates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/documentation.html#special-tags">Special Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/documentation.html#conventions-man-pages">Conventions: Man Pages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developer.html#resources">Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/libraries.html">Developer Libraries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/libraries.html#list-of-libraries">List of Libraries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../developer/docker.html">Docker Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../developer/docker.html#quick-notes">Quick Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/docker.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/docker.html#running-the-tests-yourself">Running the Tests Yourself</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/docker.html#getting-an-interactive-shell">Getting an Interactive Shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/docker.html#functions-for-your-convenience">Functions for Your Convenience</a></li>
<li class="toctree-l4"><a class="reference internal" href="../developer/docker.html#build-process-steps">Build Process Steps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developer.html#continuous-integration">Continuous Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/pre-configure-fails.html">Error Message: Step <code class="docutils literal"><span class="pre">pre-configure</span></code> fails on (...)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/configure-fails.html">Error Message: Step <code class="docutils literal"><span class="pre">configure</span></code> fails on (...)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/make-fails.html">Error Message: Step <code class="docutils literal"><span class="pre">make</span></code> fails on (...)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/make-check-fails.html">Error Message: Step <code class="docutils literal"><span class="pre">make-check</span></code> fails on (...)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Cyrus SASL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sasl/getting_started.html">SASL Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#sasl">SASL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#sasl-authentication-mechanisms">SASL Authentication Mechanisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#security-layers">Security Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#channel-binding">Channel Binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#realms">Realms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#protocols">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#cyrus-sasl">Cyrus SASL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#the-glue-library">The Glue Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#auxiliary-properties">Auxiliary Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/getting_started.html#plugins">Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sasl/auxiliary_properties.html">SASL Auxiliary Properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/auxiliary_properties.html#auxiliary-properties-and-the-glue-layer">Auxiliary Properties and the Glue Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/auxiliary_properties.html#passwords-and-other-data">Passwords and other Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/auxiliary_properties.html#sasldb">sasldb</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/auxiliary_properties.html#ldapdb">ldapdb</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/auxiliary_properties.html#sql">sql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/auxiliary_properties.html#user-canonicalization">User Canonicalization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sasl/authentication_mechanisms.html">SASL Authentication Mechanisms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#external">EXTERNAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#anonymous">ANONYMOUS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#plain">PLAIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#login">LOGIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#cram-md5">CRAM-MD5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#digest-md5">DIGEST-MD5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#scram-sha-1">SCRAM-SHA-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#gssapi">GSSAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#gs2-krb5">GS2-KRB5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#gs2-iakerb">GS2-IAKERB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#ntlm">NTLM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#srp">SRP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#pssdss">PSSDSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#otp">OTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/authentication_mechanisms.html#non-sasl-authentication">Non-SASL Authentication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sasl/pwcheck.html">SASL Pwcheck</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/pwcheck.html#auxprop">Auxprop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/pwcheck.html#auxprop-hashed">Auxprop-hashed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/pwcheck.html#saslauthd">Saslauthd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/pwcheck.html#authdaemon">Authdaemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/pwcheck.html#alwaystrue">Alwaystrue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/pwcheck.html#auto-transition">Auto Transition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sasl/faq.html">SASL Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/faqs/authorize-vs-authenticate.html">What is the difference between an Authorization ID and a Authentication ID?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/faqs/crammd5-digestmd5.html">Why do CRAM-MD5 and DIGEST-MD5 not work with CyrusSaslauthd?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/faqs/openldap-sasl-gssapi.html">How do I configure OpenLDAP +SASL+GSSAPI?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/faqs/plaintextpasswords.html">Why does CyrusSasl store plaintext passwords in its databases?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sasl/faqs/upgrade-saslv2.html">Why am I having a problem running dbconverter-2 to upgrade from SASLv1 to SASLv2?</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Cyrus IMAP and SASL</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../deployment.html">IMAP Configuration Guide</a> &raquo;</li>
      
    <li>Overview and Concepts</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="overview-and-concepts">
<h1>Overview and Concepts<a class="headerlink" href="#overview-and-concepts" title="Permalink to this headline"></a></h1>
<p>This chapter gives an overview of several aspects of the Cyrus IMAP server, as they relate to deployment.</p>
<div class="section" id="cyrus-imap">
<h2>Cyrus IMAP<a class="headerlink" href="#cyrus-imap" title="Permalink to this headline"></a></h2>
<p>The Cyrus IMAP (Internet Message Access Protocol) server provides access to personal mail and system-wide bulletin boards through the IMAP protocol. The Cyrus IMAP server is a scalable enterprise mail system designed for use from small to large enterprise environments using technologies based on well-established Open Standards.</p>
<p>A full Cyrus IMAP implementation allows a seamless mail and bulletin board environment to be set up across one or more nodes. It differs from other IMAP server implementations in that it is run on <em>sealed nodes</em>, where users are not normally permitted to log in. The mailbox database is stored in parts of the filesystem that are private to the Cyrus IMAP system. All user access to mail is through software using the IMAP, IMAPS, POP3, POP3S, or KPOP protocols.</p>
<p>The private mailbox database design gives the Cyrus IMAP server large advantages in efficiency, scalability, and administratability. Multiple concurrent read/write connections to the same mailbox are permitted. The server supports access control lists on mailboxes and storage quotas on mailbox hierarchies.</p>
<p>include::
supported-platforms.rst</p>
</div>
<div class="section" id="cyrus-imap-features">
<h2>Cyrus IMAP Features<a class="headerlink" href="#cyrus-imap-features" title="Permalink to this headline"></a></h2>
<div class="section" id="mailbox-namespaces">
<h3>Mailbox Namespaces<a class="headerlink" href="#mailbox-namespaces" title="Permalink to this headline"></a></h3>
<p>By default, the Cyrus IMAP server presents mailboxes using the <strong>netnews</strong> namespace convention. This means that;</p>
<ul class="simple">
<li>mailbox names are case-sensitive,</li>
<li>a mailbox name may not start or end with a &lt;code&gt;.&lt;/code&gt; (dot) character,</li>
<li>a mailbox name may not contain two subsequent &lt;code&gt;.&lt;/code&gt; (dot) characters.</li>
</ul>
<p>While the aforementioned implications of the <strong>netnews</strong> namespace convention apply under all circumstances, some of the implications imposed by the <strong>netnews</strong> namespace convention can be influenced by specifying additional configuration options to Cyrus IMAP, such as is the case with the hierarchy seperator.</p>
<p>When using the <strong>netnews</strong> namespace convention, the default, a user&#8217;s shorthand qualifier (e.g. <cite>user&#8217; for ``user&#64;example.org`</cite>) MAY NOT contain a &#8216;.&#8217; (dot) character, as the character is being used as a hierarchy separator in mailbox names, and would thus create a personal mailbox rather then a user&#8217;s INBOX.</p>
<p>The same limitation goes for the use of virtual domains. Since a mailbox in a virtual domain typically uses a fully qualified user identifier (e.g. <code class="docutils literal"><span class="pre">user&#64;example.org</span></code>, thus including a valid (sub-)domain name), the &#8216;.&#8217; (dot) character is inherited from the Domain Name System naming convention. This poses a problem without the use of the &#8216;.&#8217; (dot) character as a mailbox hierarchy separator.</p>
<p>To illustrate the effects on an environment, please examine the following procedure, starting from a clean Cyrus IMAP installation:</p>
</div>
<div class="section" id="example-effects-of-the-netnews-namespace-convention">
<h3>Example Effects of the Netnews Namespace Convention<a class="headerlink" href="#example-effects-of-the-netnews-namespace-convention" title="Permalink to this headline"></a></h3>
<ol class="arabic simple">
<li>In <code class="docutils literal"><span class="pre">imapd.conf</span></code>, set <code class="docutils literal"><span class="pre">unixhierarchysep</span></code> to <code class="docutils literal"><span class="pre">0</span></code>.</li>
<li>Attempt to create a mailbox for user <em>bovik&#64;example.org</em> using the shorthand qualifier (e.g. <cite>bovik</cite>), and the fully qualified user identifier (e.g. <code class="docutils literal"><span class="pre">bovik&#64;example.org</span></code>).</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ cyradm -u cyrus localhost
verify error:num=18:self signed certificate
IMAP Password:
localhost.localdomain&amp;gt; lm
localhost.localdomain&amp;gt; cm user/bovik
createmailbox: Invalid mailbox name
localhost.localdomain&amp;gt; cm user.bovik
localhost.localdomain&amp;gt; lm
user.bovik (\HasNoChildren)
localhost.localdomain&amp;gt; lam user.bovik
bovik lrswipkxtecda
</pre></div>
</div>
<p>As you can see, the mailbox has been created succesfully using the shorthand qualifier.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>localhost.localdomain&amp;gt; cm user.bovik@example.org
createmailbox: Permission denied
localhost.localdomain&amp;gt; sam user.bovik cyrus all
localhost.localdomain&amp;gt; cm user.bovik@example.org
createmailbox: Permission denied
localhost.localdomain&amp;gt; dm user.bovik
localhost.localdomain&amp;gt; cm user.bovik@example.org
createmailbox: Permission denied
</pre></div>
</div>
<p>In <code class="docutils literal"><span class="pre">imapd.conf</span></code>, set <code class="docutils literal"><span class="pre">unixhierarchysep</span></code> to <code class="docutils literal"><span class="pre">1</span></code>.</p>
<p>Attempt to create a mailbox for user <em>bovik&#64;example.org</em> using the shorthand qualifier (e.g. <code class="docutils literal"><span class="pre">bovik</span></code>), and the fully qualified user identifier (e.g. <code class="docutils literal"><span class="pre">bovik&#64;example.org</span></code>).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>$ cyradm -u cyrus localhost
verify error:num=18:self signed certificate
IMAP Password:
localhost.localdomain&amp;gt; lm
localhost.localdomain&amp;gt; cm user/bovik
localhost.localdomain&amp;gt; lm
user/bovik (\HasNoChildren)
localhost.localdomain&amp;gt; cm user/bovik@example.org
localhost.localdomain&amp;gt; lm
user/bovik (\HasNoChildren)
user/bovik@example.org (\HasNoChildren)
localhost.localdomain&amp;gt; lam user/bovik
bovik lrswipkxtecda
localhost.localdomain&amp;gt; lam user/bovik@example.org
bovik@example.org lrswipkxtecda
localhost.localdomain&amp;gt; sam user/bovik cyrus all
localhost.localdomain&amp;gt; sam user/bovik@example.org cyrus all
localhost.localdomain&amp;gt; dm user/bovik
localhost.localdomain&amp;gt; dm user/bovik@example.org
localhost.localdomain&amp;gt; lm
localhost.localdomain&amp;gt;
</pre></div>
</div>
<p>As you can see, the mailbox has been created succesfully using the shorthand qualifier, and has been created using the fully qualified user identifier as well.</p>
</div>
<div class="section" id="top-level-or-nested-personal-folders">
<h3>Top-level or Nested Personal Folders<a class="headerlink" href="#top-level-or-nested-personal-folders" title="Permalink to this headline"></a></h3>
<p>Cyrus IMAP allows the use of an alternative namespace for the presentation of personal mailboxes to the client (see the <code class="docutils literal"><span class="pre">altnamespace</span></code> configuration option), and the use of a different hierarchy separator in its presentation of personal mailboxes to the client (see <code class="docutils literal"><span class="pre">unixhierarchysep</span></code>).</p>
<p>When implemented using the default <code class="docutils literal"><span class="pre">netnews</span></code> namespace convention, non-ASCII characters and shell meta-characters are not permitted in mailbox names. Optionally, the server can present mailboxes using the UNIX hierarchy convention - see <a class="reference internal" href="#alternate-namespace"><span>Alternate Namespace</span></a> for more information.</p>
</div>
<div class="section" id="standard-internal-namespace">
<h3>Standard (Internal) Namespace<a class="headerlink" href="#standard-internal-namespace" title="Permalink to this headline"></a></h3>
<p>All personal mailboxes for user <strong>&#8220;bovik&#8221;</strong> begin with the string <strong>&#8220;user.bovik.&#8221;</strong>. For example, if user <strong>&#8220;bovik&#8221;</strong> had a personal <strong>&#8220;work&#8221;</strong> mailbox, it would be called <strong>&#8220;user.bovik.work&#8221;</strong>. To user <strong>&#8220;bovik&#8221;</strong>, however, the prefix <strong>&#8220;user.bovik.&#8221;</strong> normally appears as <strong>&#8220;INBOX.&#8221;</strong>. The mailbox <strong>&#8220;user.bovik.work&#8221;</strong> would therefore appear as <strong>&#8220;INBOX.work&#8221;</strong>. If the access control list of the mailbox permitted other users to see that mailbox, it would appear to them as <strong>&#8220;user.bovik.work&#8221;</strong>.</p>
<p>The mailbox <strong>&#8220;user.bovik&#8221;</strong> is where the user <strong>&#8220;bovik&#8221;</strong> normally receives new mail, and normally appears to user <strong>&#8220;bovik&#8221;</strong> as <strong>&#8220;INBOX&#8221;</strong>. The mailbox <strong>&#8220;user.bovik&#8221;</strong> is referred to in this document as user <strong>&#8220;bovik&#8221;</strong>&#8216;s <strong>INBOX</strong>.</p>
<p>Administrators create and delete users by creating and deleting the users&#8217; <strong>INBOX</strong>. If a user has an <strong>INBOX</strong>, then they are allowed to subscribe to mailboxes. Only users without dots in their userid are permitted to have an <strong>INBOX</strong>. (A user with a dot in their userid would be able to login but would not be able to receive mail. Note that when using the unix hierarchy seperator, this is not the case, and any user may have a dot in their userid.)</p>
<p>When an administrator deletes a user&#8217;s <strong>INBOX</strong>, all of the user&#8217;s personal mailboxes are deleted as well.</p>
<p>With the one notable exception of <strong>INBOX</strong>, all mailbox names are system-wide &amp;mdash;they refer to the same mailbox regardless of the user. Access control lists determine which users can access or see which mailboxes. Using</p>
<p>In contexts which permit relative mailbox names, the mailbox namespace works as follows:</p>
<ul class="simple">
<li>Names that do not start with <strong>.</strong> (dot) character are fully qualified.</li>
<li>Names that start with <strong>.</strong> (dot) character are relative to the current context.</li>
<li>Thus, if you are working with folder names and the top of the hierarchy is named <strong>&#8220;cmu.&#8221;</strong>, the name <strong>&#8220;comp.infosystems.www&#8221;</strong> resolves to <strong>&#8220;comp.infosystems.www&#8221;</strong> and the name <strong>&#8221;.comp.infosystems.www&#8221;</strong> resolves to <strong>&#8220;cmu.comp.infosystems.www&#8221;</strong>.</li>
</ul>
</div>
<div class="section" id="alternate-namespace">
<span id="id1"></span><h3>Alternate Namespace<a class="headerlink" href="#alternate-namespace" title="Permalink to this headline"></a></h3>
<p>The Cyrus IMAP server can also use analternate namespace which allows a user&#8217;s personal mailboxes to appear as if they reside at the same level as that user&#8217;s &lt;code&gt;INBOX&lt;/code&gt; as opposed to children of it. With this feature, it may appear that there are non-unique names for mailboxes between users (2 different users may each have a top level &#8220;work&#8221; mailbox), but the internal representation is still &lt;code&gt;user.name.work&lt;/code&gt;.</p>
</div>
<div class="section" id="access-control-lists">
<h3>Access Control Lists<a class="headerlink" href="#access-control-lists" title="Permalink to this headline"></a></h3>
<p>Access to each mailbox is controlled by each mailbox&#8217;s access control list. Access Control Lists (ACLs) provide a powerful mechanism for specifying the users or groups of users who have permission to access the mailboxes.</p>
<p>An ACL is a list of zero or more entries. Each entry has an identifier and a set of rights. The identifier specifies the user or group of users for which the entry applies. The set of rights is one or more letters or digits, each letter or digit conferring a particular privilege.</p>
</div>
<div class="section" id="access-rights">
<h3>Access Rights<a class="headerlink" href="#access-rights" title="Permalink to this headline"></a></h3>
<p>The following lists Access Rights that can be used in an Access Control List entry.</p>
<dl class="docutils">
<dt>l</dt>
<dd>The user may see that the mailbox exists (<strong>lookup</strong>).</dd>
<dt>r</dt>
<dd><p class="first">The user may read the mailbox (<strong>read</strong>).</p>
<p class="last">The user may select the mailbox, fetch data, perform searches, and copy messages from the mailbox.</p>
</dd>
<dt>s</dt>
<dd><p class="first">Keep per-user seen state (<strong>seen</strong>).</p>
<p class="last">The &#8220;Seen&#8221; and &#8220;Recent&#8221; flags are preserved for the user.</p>
</dd>
<dt>w</dt>
<dd>The user may modify flags and keywords other than &#8220;Seen&#8221; and &#8220;Deleted&#8221; (which are controlled by other access rights).</dd>
<dt>i</dt>
<dd>The user may insert new messages into the mailbox (<strong>insert</strong>).</dd>
<dt>p</dt>
<dd><p class="first">The user may send email to the submission address for the mailbox (<strong>post</strong>).</p>
<p class="last">This right differs from the &#8220;&lt;code&gt;i&lt;/code&gt;&#8221; (<strong>insert</strong>) right in that the delivery system inserts trace information into messages posted, whereas no delivery trace information is added to messages inserted (by move or copy).</p>
</dd>
<dt>c</dt>
<dd>The user may create new mailboxes in this mailbox, delete the current mailbox, or rename the mailbox (<strong>create</strong>).</dd>
<dt>d</dt>
<dd>The user may store the &#8220;Deleted&#8221; flag, and perform expunges (<strong>delete</strong>).</dd>
<dt>a</dt>
<dd>The user may change the <em>Access Control Information</em> (ACI) on the mailbox (<strong>administer</strong>).</dd>
</dl>
<p>You can combine these access rights in different ways. A few examples;</p>
<dl class="docutils">
<dt>lrs</dt>
<dd>Give the user read-only access to the mailbox (&lt;emphasis&gt;lookup&lt;/emphasis&gt;, &lt;emphasis&gt;read&lt;/emphasis&gt; and &lt;emphasis&gt;seen&lt;/emphasis&gt;).</dd>
<dt>lrsp</dt>
<dd>Give the user read access to the mailbox, and allow the user to post to the mailbox using the delivery system (&lt;emphasis&gt;lookup&lt;/emphasis&gt;, &lt;emphasis&gt;read&lt;/emphasis&gt;, &lt;emphasis&gt;seen&lt;/emphasis&gt; and &lt;emphasis&gt;post&lt;/emphasis&gt;). Most delivery systems do not provide authentication, so the &#8220;&lt;code&gt;p&lt;/code&gt;&#8221; right usually has meaning only for the &#8220;anonymous&#8221; user.</dd>
<dt>lr</dt>
<dd>The user can lookup and read the contents of the mailbox, but no &#8220;Seen&#8221; or &#8220;Recent&#8221; flags may be set on the mailbox nor its contents. This set of rights is primarily useful for anonymous IMAP, which is often used to make the archives of mailing lists available.</dd>
<dt>rs</dt>
<dd>The user can read the mailbox and the server preserves the &#8220;Seen&#8221; and &#8220;Recent&#8221; flags, but the mailbox is not visible to the user through the various mailbox listing commands. The user must know the name of the mailbox to be able to access it.</dd>
<dt>lrsip</dt>
<dd>The user can read and append to the mailbox, either through IMAP, or through the delivery system.</dd>
</dl>
</div>
<div class="section" id="identifiers">
<h3>Identifiers<a class="headerlink" href="#identifiers" title="Permalink to this headline"></a></h3>
<p>The identifier part of an ACL entry specifies the user or group for which the entry applies.</p>
<p>There are two special identifiers, &#8220;anonymous&#8221;, and &#8220;anyone&#8221;, which are explained below. The meaning of other identifiers usually depends on the authorization mechanism being used (selected by <code class="docutils literal"><span class="pre">--with-auth</span></code> at compile time, defaulting to Unix).</p>
</div>
<div class="section" id="code-anonymous-code-and-code-anyone-code">
<h3>&#8220;&lt;code&gt;anonymous&lt;/code&gt;&#8221; and &#8220;&lt;code&gt;anyone&lt;/code&gt;&#8221;<a class="headerlink" href="#code-anonymous-code-and-code-anyone-code" title="Permalink to this headline"></a></h3>
<p>With any authorization mechanism, two special identifiers are defined. The identifier &#8220;&lt;code&gt;anonymous&lt;/code&gt;&#8221; refers to the anonymous, or unauthenticated user. The identifier &#8220;&lt;code&gt;anyone&lt;/code&gt;&#8221; refers to all users, including the anonymous user.</p>
</div>
<div class="section" id="kerberos-vs-unix-authorization">
<h3>Kerberos vs. Unix Authorization<a class="headerlink" href="#kerberos-vs-unix-authorization" title="Permalink to this headline"></a></h3>
<p>The Cyrus IMAP server comes with four authorization mechanisms, one is compatible with Unix-style (&#8220;&lt;code&gt;/etc/passwd&lt;/code&gt;&#8221;) authorization, one for use with Kerberos 4, one for use with Kerberos 5, and one for use with an external authorization process (ptloader) which can interface with other group databases (e.g. AFS PTS groups, LDAP Groups, etc).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Authentication !== Authorization</strong></p>
<p class="last">Note that authorization is <em>not</em> the same thing as authentication. Authentication is the act of proving who you are. Authorization is the act of determining what rights you have. Authentication is discussed in the Login Authentication part of this document.</p>
</div>
<p>In the Unix authorization mechanism, identifiers are either a valid userid or the string &#8220;<code class="docutils literal"><span class="pre">group</span></code>&#8221;: followed by a group listed in <code class="docutils literal"><span class="pre">/etc/group</span></code>. Thus:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>root                Refers to the user root
group:staff         Refers to the group staff
</pre></div>
</div>
<p>It is also possible to use unix groups with users authenticated through a non-/etc/passwd backend. Note that using unix groups in this way (without associated &lt;filename&gt;/etc/passwd&lt;/filename&gt; entries) is not recommended.</p>
<p>Using the Kerberos authorization mechanism, identifiers are of the form:</p>
<blockquote>
<div>&lt;emphasis&gt;$principal&lt;/emphasis&gt;.&lt;emphasis&gt;$instance&lt;/emphasis&gt;&#64;&lt;emphasis&gt;$realm&lt;/emphasis&gt;&lt;/screen&gt;</div></blockquote>
<p>If <code class="docutils literal"><span class="pre">$instance</span></code> is omitted, it defaults to the null string. If <code class="docutils literal"><span class="pre">$realm</span></code> is omitted, it defaults to the local realm.</p>
<p>The file <code class="docutils literal"><span class="pre">/etc/krb.equiv</span></code> contains mappings between Kerberos principals. The file contains zero or more lines, each containing two fields. Any identity matching the first field of a line is changed to the second identity during canonicalization. For example, a line in <code class="docutils literal"><span class="pre">/etc/krb.equiv</span></code> of:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>bovik@REMOTE.COM bovik
</pre></div>
</div>
<p>will cause the identity <code class="docutils literal"><span class="pre">bovik&#64;REMOTE.COM</span></code> to be treated as if it were the local identity <code class="docutils literal"><span class="pre">bovik</span></code>.</p>
<p>A site may wish to write their own authorization mechanism, perhaps to implement a local group mechanism. If it does so (by implementing an &lt;code&gt;auth_[whatever]&lt;/code&gt; PTS module), it will dictate its own form and meaning of identifiers.</p>
</div>
<div class="section" id="negative-rights">
<h3>Negative Rights<a class="headerlink" href="#negative-rights" title="Permalink to this headline"></a></h3>
<p>Any of the above defined identifiers may be prefixed with a &#8220;&lt;code&gt;-&lt;/code&gt;&#8221; character. The associated rights are then removed from that identifier. These are referred to as <em>negative rights</em>.</p>
</div>
<div class="section" id="calculating-the-users-rights">
<h3>Calculating the Users&#8217; Rights<a class="headerlink" href="#calculating-the-users-rights" title="Permalink to this headline"></a></h3>
<p>To calculate the set of rights granted to a user, the server first calculates the union of all of the rights granted to the user and to all groups the user is a member of. The server then calculates and removes the union of all the negative rights granted to the user and to all groups the user is a member of.</p>
<blockquote>
<div>&lt;example id=&#8221;exam-Deployment_Guide-Calculating_the_Users_Rights-Example_ACL_with_Negative_User_Rights&#8221;&gt;
&lt;title&gt;Example ACL with Negative User Rights&lt;/title&gt;</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span></span>anyone       lrsp
fred         lwi
-anonymous   s
</pre></div>
</div>
<p>&lt;/example&gt;</p>
<p>The user &#8220;&lt;code&gt;fred&lt;/code&gt;&#8221; will be granted the rights &#8220;&lt;code&gt;lrswip&lt;/code&gt;&#8221; and the anonymous user will be granted the rights &#8220;&lt;code&gt;lrp&lt;/code&gt;&#8221;.</p>
</div>
<div class="section" id="implicit-rights-for-administrators-on-personal-mailboxes">
<h3>Implicit Rights for Administrators on Personal Mailboxes<a class="headerlink" href="#implicit-rights-for-administrators-on-personal-mailboxes" title="Permalink to this headline"></a></h3>
<p>Regardless of the ACL on a mailbox, users who are listed in the &#8220;admins&#8221; configuration option in &#8220;&lt;code&gt;/etc/imapd.conf&lt;/code&gt;&#8221; implicitly have the &#8220;&lt;code&gt;l&lt;/code&gt;&#8221; and &#8220;&lt;code&gt;a&lt;/code&gt;&#8221; rights on all mailboxes. Users also implicitly have the &#8220;&lt;code&gt;l&lt;/code&gt;&#8221; and &#8220;&lt;code&gt;a&lt;/code&gt;&#8221; rights on their INBOX and all of their personal mailboxes.</p>
</div>
</div>
<div class="section" id="initial-acls-for-newly-created-mailboxes">
<h2>Initial ACLs for Newly Created Mailboxes<a class="headerlink" href="#initial-acls-for-newly-created-mailboxes" title="Permalink to this headline"></a></h2>
<p>When a mailbox is created, its ACL starts off with a copy of the ACL of its closest parent mailbox. When a user is created, the ACL on the user&#8217;s &lt;code&gt;INBOX&lt;/code&gt; starts off with a single entry granting all rights to the user. When a non-user mailbox is created and does not have a parent, its ACL is initialized to the value of the &#8220;&lt;code&gt;defaultacl&lt;/code&gt;&#8221; option in &#8220;&lt;code&gt;/etc/imapd.conf&lt;/code&gt;&#8221;.</p>
<p>Note that some rights are available implicitly, for example &#8216;anonymous&#8217; always has &#8216;p&#8217; on user INBOXes, and users always have rights on mailboxes within their INBOX hierarchy.</p>
</div>
<div class="section" id="login-authentication">
<h2>Login Authentication<a class="headerlink" href="#login-authentication" title="Permalink to this headline"></a></h2>
<p>This section discusses different types of authentication (ways of logging in) that can be used with Cyrus IMAP.</p>
<p>The Cyrus IMAP server uses the Cyrus SASL library for authentication. This section describes how to configure SASL with use with Cyrus imapd. Please consult the Cyrus SASL System Administrator&#8217;s Guide for more detailed, up-to-date information.</p>
<div class="section" id="anonymous-login">
<h3>Anonymous Login<a class="headerlink" href="#anonymous-login" title="Permalink to this headline"></a></h3>
<p>Regardless of the SASL mechanism used by an individual connection, the server can support anonymous login. If the &#8220;&lt;code&gt;allowanonymouslogin&lt;/code&gt;&#8221; option in &#8220;&lt;code&gt;/etc/imapd.conf&lt;/code&gt;&#8221; is turned on, then the server will permit plaintext password logins using the user &#8220;&lt;code&gt;anonymous&lt;/code&gt;&#8221; and any password.</p>
<p>Additionally, the server will enable any SASL mechanisms that allow anonymous logins.</p>
</div>
<div class="section" id="plaintext-authentication">
<h3>Plaintext Authentication<a class="headerlink" href="#plaintext-authentication" title="Permalink to this headline"></a></h3>
<p>The SASL library has several ways of verifying plaintext passwords. Plaintext passwords are passed either by the IMAP &lt;code&gt;LOGIN&lt;/code&gt; command or by the SASL &lt;code&gt;PLAIN&lt;/code&gt; mechanism (under a TLS layer).</p>
<ul>
<li><p class="first">PAM</p>
</li>
<li><dl class="first docutils">
<dt>Kerberos v4</dt>
<dd><p class="first last">Plaintext passwords are verified by obtaining a ticket for the server&#8217;s Kerberos identity, to protect against Kerberos server spoofing attacks.</p>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">/etc/passwd</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">/etc/shadow</span></code></p>
<blockquote>
<div><dl class="docutils">
<dt>&lt;para&gt;</dt>
<dd><p class="first last">&lt;code&gt;sasl_auto_transition&lt;/code&gt; automatically creates secrets for shared secret authentication when given a password.</p>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
<p>The method of plaintext password verification is always through the SASL library, even in the case of the internal LOGIN command. This is to allow the SASL library to be the only source of authentication information. You&#8217;ll want to look at the &lt;code&gt;sasl_pwcheck_method&lt;/code&gt; option in the SASL documentation to understand how to configure a plaintext password verifier for your system.</p>
<p>To disallow the use of plaintext passwords for authentication, you can set &lt;code&gt;allowplaintext: no&lt;/code&gt; in imapd.conf. This will still allow PLAIN under TLS, but IMAP LOGIN commands will now fail.</p>
</div>
<div class="section" id="kerberos-logins">
<h3>Kerberos Logins<a class="headerlink" href="#kerberos-logins" title="Permalink to this headline"></a></h3>
<p>The Kerberos SASL mechanism supports the &lt;code&gt;KERBEROS_V4&lt;/code&gt; authentication mechanism. The mechanism requires that a &lt;code&gt;srvtab&lt;/code&gt; file exist in the location given in the &#8220;&lt;code&gt;srvtab&lt;/code&gt;&#8221; configuration option. The &lt;code&gt;srvtab&lt;/code&gt; file must be readable by the Cyrus server and must contain a &#8220;&lt;code&gt;imap.$host&#64;$realm&lt;/code&gt;&#8221; service key, where &lt;code&gt;$host&lt;/code&gt; is the first component of the server&#8217;s host name and &lt;code&gt;$realm&lt;/code&gt; is the server&#8217;s Kerberos realm.</p>
<p>The server will permit logins by identities in the local realm and identities in the realms listed in the &lt;code&gt;loginrealms&lt;/code&gt; option in &lt;filename&gt;/etc/imapd.conf&lt;/filename&gt;.</p>
<p>The file &lt;filename&gt;/etc/krb.equiv&lt;/filename&gt; contains mappings between Kerberos principals. The file contains zero or more lines, each containing two fields. Any identity matching the first field of a line is permitted to log in as the identity in the second field.</p>
<p>If the &lt;code&gt;loginuseacl&lt;/code&gt; configuration option is turned on, than any Kerberos identity that is granted the &#8220;&lt;code&gt;a&lt;/code&gt;&#8221; right on the user&#8217;s &lt;code&gt;INBOX&lt;/code&gt; is permitted to log in as that user.</p>
</div>
<div class="section" id="shared-secrets-logins">
<h3>Shared Secrets Logins<a class="headerlink" href="#shared-secrets-logins" title="Permalink to this headline"></a></h3>
<p>Some mechanisms require the user and the server to share a secret (generally a password) that can be used for comparison without actually passing the password in the clear across the network. For these mechanism (such as CRAM-MD5 and DIGEST-MD5), you will need to supply a source of passwords, such as the sasldb (which is described more fully in the Cyrus SASL distribution)</p>
</div>
</div>
<div class="section" id="quota">
<h2>Quota<a class="headerlink" href="#quota" title="Permalink to this headline"></a></h2>
<p>Quotas allow server administrators to limit resources used by hierarchies of mailboxes on the server.</p>
<div class="section" id="supports-quotas-on-storage">
<h3>Supports Quotas on Storage<a class="headerlink" href="#supports-quotas-on-storage" title="Permalink to this headline"></a></h3>
<p>The Cyrus IMAP server supports quotas on storage, which is defined as the number of bytes of the relevant RFC-822 messages, in kilobytes. Each copy of a message is counted independently, even when the server can conserve disk space use by making hard links to message files. The additional disk space overhead used by mailbox index and cache files is not charged against a quota.</p>
</div>
<div class="section" id="quota-roots">
<h3>Quota Roots<a class="headerlink" href="#quota-roots" title="Permalink to this headline"></a></h3>
<p>Quotas are applied to quota roots, which can be at any level of the mailbox hierarchy. Quota roots need not also be mailboxes.</p>
<p>Quotas on a quota root apply to the sum of the usage of any mailbox at that level and any sub-mailboxes of that level that are not underneath a quota root on a sub-hierarchy. This means that each mailbox is limited by at most one quota root.</p>
<p>For example, if the mailboxes</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">bovik</span>
<span class="n">user</span><span class="o">.</span><span class="n">bovik</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">imap</span>
<span class="n">user</span><span class="o">.</span><span class="n">bovik</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">info</span><span class="o">-</span><span class="n">cyrus</span>
<span class="n">user</span><span class="o">.</span><span class="n">bovik</span><span class="o">.</span><span class="n">saved</span>
<span class="n">user</span><span class="o">.</span><span class="n">bovik</span><span class="o">.</span><span class="n">todo</span>
</pre></div>
</div>
<p>exist and the quota roots</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">user</span><span class="o">.</span><span class="n">bovik</span>
<span class="n">user</span><span class="o">.</span><span class="n">bovik</span><span class="o">.</span><span class="n">list</span>
<span class="n">user</span><span class="o">.</span><span class="n">bovik</span><span class="o">.</span><span class="n">saved</span>
</pre></div>
</div>
<p>exist, then the quota root &#8220;&lt;code&gt;user.bovik&lt;/code&gt;&#8221; applies to the mailboxes &#8220;&lt;code&gt;user.bovik&lt;/code&gt;&#8221; and &#8220;&lt;code&gt;user.bovik.todo&lt;/code&gt;&#8221;; the quota root &#8220;&lt;code&gt;user.bovik.list&lt;/code&gt;&#8221; applies to the mailboxes &#8220;&lt;code&gt;user.bovik.list.imap&lt;/code&gt;&#8221; and &#8220;&lt;code&gt;user.bovik.list.info-cyrus&lt;/code&gt;&#8221;; and the quota root &#8220;&lt;code&gt;user.bovik.saved&lt;/code&gt;&#8221; applies to the mailbox &#8220;&lt;code&gt;user.bovik.saved&lt;/code&gt;&#8221;.</p>
<p>Quota roots are created automatically when they are mentioned in the &lt;code&gt;setquota&lt;/code&gt; command. Quota roots may not be deleted through the protocol, see Removing Quota Roots for instructions on how to delete them.</p>
</div>
<div class="section" id="mail-delivery-behavior">
<h3>Mail Delivery Behavior<a class="headerlink" href="#mail-delivery-behavior" title="Permalink to this headline"></a></h3>
<p>Normally, in order for a message to be inserted into a mailbox, the quota root for the mailbox must have enough unused storage so that inserting the message will not cause the block quota to go over the limit.</p>
<p>Mail delivery is a special case. In order for a message to be delivered to a mailbox, the quota root for the mailbox must not have usage that is over the limit. If the usage is not over the limit, then one message may be delivered regardless of its size. This puts the mailbox&#8217;s usage over the quota, causing a user to be informed of the problem and permitting them to correct it. If delivery were not permitted in this case, the user would have no practical way of knowing that there was mail that could not be delivered.</p>
<p>If the usage is over the limit, then the mail delivery will fail with a temporary error. This will cause the delivery system to re-attempt delivery for a couple of days (permitting the user time to notice and correct the problem) and then return the mail to the sender.</p>
</div>
<div class="section" id="quota-warnings-upon-select-when-user-has-code-d-code-rights">
<h3>Quota Warnings Upon Select When User Has &#8220;&lt;code&gt;d&lt;/code&gt;&#8221; Rights<a class="headerlink" href="#quota-warnings-upon-select-when-user-has-code-d-code-rights" title="Permalink to this headline"></a></h3>
<p>When a user selects a mailbox whose quota root has usage that is close to or over the limit and the user has &#8220;&lt;code&gt;d&lt;/code&gt;&#8221; rights on the mailbox, the server will issue an alert notifying the user that usage is close to or over the limit. The threshold of usage at which the server will issue quota warnings is set by the &lt;code&gt;quotawarn&lt;/code&gt; configuration option.</p>
<p>The server only issues warnings when the user has &#8220;&lt;code&gt;d&lt;/code&gt;&#8221; rights because only users with &#8220;&lt;code&gt;d&lt;/code&gt;&#8221; rights are capable of correcting the problem.</p>
</div>
<div class="section" id="quotas-and-partitions">
<h3>Quotas and Partitions<a class="headerlink" href="#quotas-and-partitions" title="Permalink to this headline"></a></h3>
<p>Quota roots are independent of partitions. A single quota root can apply to mailboxes in different partitions.</p>
</div>
</div>
</div>
<div class="section" id="html-block-that-was-commented-out-in-xml">
<h1>HTML Block that was commented out in XML<a class="headerlink" href="#html-block-that-was-commented-out-in-xml" title="Permalink to this headline"></a></h1>
<p>&lt;!&#8211;
&lt;h2&gt;&lt;a name=&#8221;notification&#8221;&gt;New Mail Notification&lt;/a&gt;&lt;/h2&gt;</p>
<p>The Cyrus IMAP server comes with a notification daemon which
supports multiple mechanisms for notifying users of new mail.
Notifications can be configured to be sent upon normal delivery
(&lt;code&gt;&#8221;MAIL&#8221;&lt;/code&gt; class) and/or sent as requested by a &lt;a
href=specs.php#sieve&gt;Sieve&lt;/a&gt; script (&lt;code&gt;&#8221;SIEVE&#8221;&lt;/code&gt; class).</p>
<p>By default, both types of notifications are disabled.
Notifications are enabled by using one or both of the following
configuration options:</p>
<ul class="simple">
<li>the &#8220;<code class="docutils literal"><span class="pre">mailnotifier</span></code>&#8221; option selects the &lt;a href=man/notifyd.8.php&gt;notifyd&lt;/a&gt; method to use for &#8220;&lt;code&gt;MAIL&lt;/code&gt;&#8221; class notifications</li>
<li>the &#8220;<code class="docutils literal"><span class="pre">sievenotifier</span></code>&#8221; option selects the &lt;a href=man/notifyd.8.php&gt;notifyd&lt;/a&gt; method to use for &#8220;<code class="docutils literal"><span class="pre">SIEVE</span></code>&#8221; class notifications (when no method is specified by the Sieve action)</li>
</ul>
<div class="section" id="partitions">
<h2>Partitions<a class="headerlink" href="#partitions" title="Permalink to this headline"></a></h2>
<p>Partitions allow administrators to store different mailboxes in different parts of the Unix filesystem.  This is intended to be used to allow hierarchies of mailboxes to be spread across multiple disks.</p>
<div class="section" id="specifying-partitions-with-create">
<h3>Specifying Partitions with &#8220;create&#8221;<a class="headerlink" href="#specifying-partitions-with-create" title="Permalink to this headline"></a></h3>
<p>When an administrator creates a new mailbox, the name of the partition for the mailbox may be specified using an optional second argument to the &#8220;create&#8221; command.  Non-administrators are not permitted to specify the partition of a mailbox.  If the partition is not specified, then the mailbox inherits the partition of its most immediate parent mailbox.  If the mailbox has no parent, it gets the partition specified in the &#8220;defaultpartition&#8221; configuration option.</p>
<p>The optional second argument to the &#8220;create&#8221; command can usually be given only when using a specialized Cyrus-aware administrative client such as <code class="docutils literal"><span class="pre">cyradm</span></code>.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;partitionsrename&#8221;&gt;Changing Partitions with &#8220;&lt;code&gt;rename&lt;/code&gt;&#8221;&lt;/a&gt;&lt;/h3&gt;</p>
<p>An administrator may change the partition of a mailbox by using the
rename command with an optional third argument.  When a third argument
to rename is given, the first and second arguments can be the
same &amp;mdash;this changes the partition of a mailbox without changing its
name.  If a third argument to rename is not given and the first
argument is not &#8220;&lt;code&gt;INBOX&lt;/code&gt;&#8221;, the partition of a mailbox does not change.
If a third argument to rename is not given and the first argument is
&#8220;&lt;code&gt;INBOX&lt;/code&gt;&#8221;, the newly created mailbox gets the same partition it would
get from the &#8220;&lt;code&gt;create&lt;/code&gt;&#8221; command.</p>
<p>&lt;h2&gt;&lt;A NAME=&#8221;news&#8221;&gt;News&lt;/a&gt;&lt;/h2&gt;</p>
<p>Cyrus has the ability to export Usenet via IMAP and/or export shared
IMAP mailboxes via an NNTP server which is included with Cyrus.  For
more information on exporting news groups through the IMAP server, see
&lt;a href=&#8221;install-netnews.php&#8221;&gt;install-netnews.php&lt;/a&gt;.</p>
<p>&lt;h2&gt;&lt;a name=&#8221;pop3&#8221;&gt;POP3 Server&lt;/a&gt;&lt;/h2&gt;</p>
<p>The Cyrus IMAP server software comes with a compatibility POP3 server.
Due to limitations in the POP3 protocol, the server can only access a
user&#8217;s &lt;code&gt;INBOX&lt;/code&gt; and only one instance of a POP3 server may exist for any
one user at any time.  While a POP3 server has a user&#8217;s &lt;code&gt;INBOX&lt;/code&gt; open,
expunge operations from any concurrent IMAP session will fail.</p>
<p>When Kerberos login authentication is being used, the POP3 server
uses the server identity
&#8220;&lt;code&gt;pop.&lt;VAR&gt;host&lt;/VAR&gt;&#64;&lt;VAR&gt;realm&lt;/VAR&gt;&lt;/code&gt;&#8221; instead of
&#8220;&lt;code&gt;imap.&lt;VAR&gt;host&lt;/VAR&gt;&#64;&lt;VAR&gt;realm&lt;/VAR&gt;&lt;/code&gt;&#8221;, where
&#8220;&lt;code&gt;&lt;VAR&gt;host&lt;/VAR&gt;&lt;/code&gt;&#8221; is the first component of the server&#8217;s host
name and &#8220;&lt;code&gt;&lt;VAR&gt;realm&lt;/VAR&gt;&lt;/code&gt;&#8221; is the server&#8217;s Kerberos realm.
When the POP3 server is invoked with the &#8220;&lt;code&gt;-k&lt;/code&gt;&#8221; switch, the
server exports MIT&#8217;s KPOP protocol instead of generic POP3.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;syslog&#8221;&gt;The &lt;code&gt;syslog&lt;/code&gt; facility&lt;/a&gt;&lt;/h3&gt;</p>
<p>The Cyrus IMAP server software sends log messages to the &#8220;&lt;code&gt;local6&lt;/code&gt;&#8221;
syslog facility.  The severity levels used are:</p>
<p>&lt;UL&gt;
&lt;LI&gt;&lt;code&gt;CRIT&lt;/code&gt; - Critical errors which probably require prompt administrator action
&lt;LI&gt;&lt;code&gt;ERR&lt;/code&gt; - I/O errors, including failure to update quota usage.
The syslog message includes the specific file and Unix error.
&lt;LI&gt;&lt;code&gt;WARNING&lt;/code&gt; - Protection mechanism failures, client inactivity
timeouts
&lt;LI&gt;&lt;code&gt;NOTICE&lt;/code&gt; - Authentications, both successful and unsuccessful
&lt;LI&gt;&lt;code&gt;INFO&lt;/code&gt; - Mailbox openings, duplicate delivery suppression
&lt;/UL&gt;</p>
<p>&lt;h2&gt;&lt;a name=&#8221;recovery&#8221;&gt;Mail Directory Recovery&lt;/a&gt;&lt;/h2&gt;</p>
<p>This section describes the various databases used by the Cyrus IMAP
server software and what can be done to recover from various
inconsistencies in these databases.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;recoverymboxdir&#8221;&gt;Reconstructing Mailbox Directories&lt;/a&gt;&lt;/h3&gt;</p>
<p>The largest database is the mailbox directories.  Each
mailbox directory contains the following files:</p>
<dl class="docutils">
<dt>message files</dt>
<dd><p class="first">There is one file per message, containing the message in RFC 822 format.  Lines in the message are separated by CRLF, not just LF.  The file name of each message is the message&#8217;s UID followed by a dot (.).</p>
<p class="last">In netnews newsgroups, the message files instead follow the format and naming conventions imposed by the netnews software.</p>
</dd>
<dt>&lt;code&gt;cyrus.header&lt;/code&gt;</dt>
<dd>This file contains a magic number and variable-length information about the mailbox itself.</dd>
<dt>&lt;code&gt;cyrus.index&lt;/code&gt;</dt>
<dd>This file contains fixed-length information about the mailbox itself and each message in the mailbox.</dd>
<dt>&lt;code&gt;cyrus.cache&lt;/code&gt;</dt>
<dd>This file contans variable-length information about each message in the mailbox.</dd>
<dt>&lt;code&gt;cyrus.seen&lt;/code&gt;</dt>
<dd>This file contains variable-length state information about each reader of the mailbox who has &#8220;&lt;code&gt;s&lt;/code&gt;&#8221; permissions.</dd>
</dl>
<p>The &#8220;&lt;code&gt;reconstruct&lt;/code&gt;&#8221; program can be used to recover from
corruption in mailbox directories.  If &#8220;&lt;code&gt;reconstruct&lt;/code&gt;&#8221; can find
existing header and index files, it attempts to preserve any data in
them that is not derivable from the message files themselves.  The
state &#8220;&lt;code&gt;reconstruct&lt;/code&gt;&#8221; attempts to preserve includes the flag
names, flag state, and internal date.  &#8220;&lt;code&gt;Reconstruct&lt;/code&gt;&#8221;
derives all other information from the message files.</p>
<p>An administrator may recover from a damaged disk by restoring message
files from a backup and then running reconstruct to regenerate what it
can of the other files.</p>
<p>The &#8220;&lt;code&gt;reconstruct&lt;/code&gt;&#8221; program does not adjust the quota usage
recorded in any quota root files.  After running reconstruct, it is
advisable to run &#8220;&lt;code&gt;quota -f&lt;/code&gt;&#8221; (described below) in order to fix
the quota root files.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;recoverymbox&#8221;&gt;Reconstructing the Mailboxes File&lt;/a&gt;&lt;/h3&gt;</p>
<p>&lt;B&gt;&lt;I&gt; NOTE: CURRENTLY UNAVAILABLE &lt;/I&gt;&lt;/B&gt;</p>
<p>The mailboxes file in the configuration directory is the most critical
file in the entire Cyrus IMAP system.  It contains a sorted list of
each mailbox on the server, along with the mailboxes quota root and
ACL.</p>
<p>To reconstruct a corrupted mailboxes file, run the &#8220;&lt;code&gt;reconstruct
-m&lt;/code&gt;&#8221; command.  The &#8220;&lt;code&gt;reconstruct&lt;/code&gt;&#8221; program, when invoked
with the &#8220;&lt;code&gt;-m&lt;/code&gt;&#8221; switch, scavenges and corrects whatever data it
can find in the existing mailboxes file.  It then scans all partitions
listed in the imapd.conf file for additional mailbox directories to
put in the mailboxes file.</p>
<p>&lt;p&gt;The &lt;code&gt;cyrus.header&lt;/code&gt; file in each mailbox directory stores a
redundant copy of the mailbox ACL, to be used as a backup when
rebuilding the mailboxes file.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;recoveryquotas&#8221;&gt;Reconstructing Quota Roots&lt;/a&gt;&lt;/h3&gt;</p>
<p>The subdirectory &#8220;&lt;code&gt;quota&lt;/code&gt;&#8221; of the configuration directory (specified in
the &#8220;&lt;code&gt;configdirectory&lt;/code&gt;&#8221; configuration option) contains one file per
quota root, with the file name being the name of the quota root.  These
files store the quota usage and limits of each of the quota roots.</p>
<p>&lt;p&gt;The &#8220;&lt;code&gt;quota&lt;/code&gt;&#8221; program, when invoked with the &#8220;&lt;code&gt;-f&lt;/code&gt;&#8221;
switch, recalculates the quota root of each mailbox and the quota
usage of each &lt;a href=&#8221;#quotaroots&#8221;&gt;quota root&lt;/a&gt;.</p>
<p>&lt;h4&gt;&lt;a name=&#8221;recoveryquotasrm&#8221;&gt;Removing Quota Roots&lt;/a&gt;&lt;/h4&gt;</p>
<p>To remove a quota root, remove the quota root&#8217;s file.  Then run
&#8220;&lt;code&gt;quota -f&lt;/code&gt;&#8221; to make the quota files consistent again.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;recoverysubs&#8221;&gt;Subscriptions&lt;/a&gt;&lt;/h3&gt;</p>
<p>The subdirectory &#8220;&lt;code&gt;user&lt;/code&gt;&#8221; of the configuration directory contains user
subscriptions.  There is one file per user, with a filename of the
userid followed by &#8220;&lt;code&gt;.sub&lt;/code&gt;&#8221;.  Each file contains a sorted list of
subscribed mailboxes.</p>
<p>&lt;p&gt;There is no program to recover from damaged subscription files.  A
site may recover from lost subscription files by restoring from backups.</p>
<p>&lt;h2&gt;&lt;a name=&#8221;configdir&#8221;&gt;Configuration Directory&lt;/a&gt;&lt;/h2&gt;</p>
<p>Many objects in the configuration directory are discussed in
the Database Recovery section. This section documents two
other directories that reside in the configuration directory.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;configdirlog&#8221;&gt;&#8221;&lt;code&gt;log&lt;/code&gt;&#8221; Directory&lt;/a&gt;&lt;/h3&gt;</p>
<p>The subdirectory &#8220;&lt;code&gt;log&lt;/code&gt;&#8221; under the configuration directory permits
administrators to keep protocol telemetry logs on a per-user basis.</p>
<p>&lt;p&gt;If a subdirectory of &#8220;&lt;code&gt;log&lt;/code&gt;&#8221; exists with the same name as a user, the
IMAP and POP3 servers will keep a telemetry log of protocol sessions
authenticating as that user.  The telemetry log is stored in the
subdirectory with a filename of the server process-id and starts with
the first command following authentication.</p>
<p>&lt;h3&gt;&lt;a name=&#8221;configdirproc&#8221;&gt;&#8221;&lt;code&gt;proc&lt;/code&gt;&#8221; Directory&lt;/a&gt;&lt;/h3&gt;</p>
<p>The subdirectory &#8220;&lt;code&gt;proc&lt;/code&gt;&#8221; under the configuration directory
contains one file per active server process.  The file name is the ASCII
representation of the process id and the file contains the following
tab-separated fields:</p>
<p>&lt;UL&gt;
&lt;LI&gt;hostname of the client
&lt;LI&gt;login name of the user, if logged in
&lt;LI&gt;selected mailbox, if a mailbox is selected
&lt;/UL&gt;</p>
<p>The file may contain arbitrary characters after the first newline
character.</p>
<p>&lt;p&gt;The &#8220;&lt;code&gt;proc&lt;/code&gt;&#8221; subdirectory is normally be cleaned out on
server reboot.</p>
<p>&lt;h2&gt;Message Delivery&lt;/h2&gt;&lt;a name=&#8221;messagedelivery&#8221;&gt;&lt;/a&gt;</p>
<p>&lt;p&gt;Mail transport agents such as Sendmail, Postfix, or Exim communicate
with the Cyrus server via LMTP (the Local Mail Transport Protocol)
implemented by the LMTP daemon.  This can be done either directly by the
MTA (prefered, for performance reasons) or via the &lt;code&gt;deliver&lt;/code&gt; LMTP
client.</p>
<p>&lt;h3&gt;Local Mail Transfer Protocol&lt;/h3&gt;&lt;a name=&#8221;lmtp&#8221;&gt;&lt;/a&gt;</p>
<p>&lt;p&gt;LMTP, the Local Mail Transfer Protocol, is a variant of SMTP design for
transferring mail to the final message store.  LMTP allows MTAs to deliver
&#8220;local&#8221; mail over a network.  This is an easy optimization so that the
IMAP server doesn&#8217;t need to maintain a queue of messages or run an
MTA.&lt;/p&gt;</p>
<p>&lt;p&gt;The Cyrus server implements LMTP via the &lt;code&gt;lmtpd&lt;/code&gt; daemon.  LMTP
can either be used over a network via TCP or local via a UNIX domain
socket. There are security differnces between these two alternatives; read
more below&lt;/p&gt;</p>
<p>&lt;p&gt;For final delivery via LMTP over a TCP socket, it is necessary to use
LMTP AUTH.  This is accomplished using SASL to authenticate the delivering
user.  If your mail server is performing delivery via LMTP AUTH (that is,
using a SASL mechanism), you will want their authentication id to be an
LMTP admins (either via the &lt;code&gt;admins&lt;/code&gt; imapd.conf option or via the
&lt;code&gt;&amp;lt;service&amp;gt;_admins&lt;/code&gt; option, typically &lt;code&gt;lmtp_admins&lt;/code&gt;).&lt;/p&gt;</p>
<p>&lt;p&gt;Alternatively you may deliver via LMTP to a unix domain socket, and the
connection will be preauthenticated as an administrative user (and access
control is accomplished by controlling access to the socket).&lt;/p&gt;</p>
<p>&lt;p&gt;Note that if a user has a sieve script, the sieve script runs authorized
as <em>that</em> user, and the rights of the posting user are ignored for the purposes
of determining the outcome of the sieve script.&lt;/p&gt;</p>
<p>&lt;h3&gt;Single Instance Store&lt;/h3&gt;&lt;a name=&#8221;singleinstance&#8221;&gt;&lt;/a&gt;</p>
<p>&lt;p&gt;If a delivery attempt mentions several recipients (only possible if
the MTA is speaking LMTP to &lt;code&gt;lmtpd&lt;/code&gt;), the server attempts to
store as few copies of a message as possible.  It will store one copy
of the message per partition, and create hard links for all other
recipients of the message.&lt;/p&gt;</p>
<p>&lt;p&gt;Single instance store can be turned off by using the
&#8220;singleinstancestore&#8221; flag in the configuration file.&lt;/p&gt;</p>
<p>&lt;h3&gt;Duplicate Delivery Suppression&lt;/h3&gt;&lt;a name=&#8221;duplicate&#8221;&gt;&lt;/a&gt;</p>
<p>A message is considered a duplicate if two copies of a message with
the same message-id and the same envelope receipient are received.
Cyrus uses the duplicate delivery database to hold this information,
and it looks approximately 3 days back in the default install.</p>
<p>&lt;p&gt;Duplicate delivery suppression can be turned off by using the
&#8220;duplicatesuppression&#8221; flag in the configuration file.&lt;/p&gt;</p>
<p>&lt;h3&gt;Sieve, a Mail Filtering Language&lt;/h3&gt;&lt;a name=&#8221;sieve&#8221;&gt;&lt;/a&gt;</p>
<p>Sieve is a mail filtering language that can filter mail into an appropriate
IMAP mailbox as it is delivered via lmtp.  For more information, look
&lt;A HREF=&#8221;sieve.php&#8221;&gt;here&lt;/a&gt;.</p>
<p>&lt;h3&gt;Cyrus Murder, the IMAP Aggregator&lt;/h3&gt;&lt;a name=&#8221;aggregator&#8221;&gt;&lt;/a&gt;</p>
<p>Cyrus now supports the distribution of mailboxes across a number of IMAP
servers to allow for horizontal scalability.  For information on setting
up this configuration, see &lt;A href=&#8221;install-murder.php&#8221;&gt;here&lt;/A&gt;.</p>
<p>//    &#8211;&gt;
&lt;/chapter&gt;</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deployment_scenarios.html" class="btn btn-neutral float-right" title="Deployment Scenarios" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../deployment.html" class="btn btn-neutral" title="IMAP Configuration Guide" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1993-2016, The Cyrus Team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6 using a modified <a href="https://readthedocs.org">Read the Docs</a> <a href="https://github.com/snide/sphinx_rtd_theme">theme</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
<!--      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      }); -->
  </script>
  
 
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _paq = _paq || [];(function(){var u=(("https:" == document.location.protocol) ? "https://noc.kolabsys.com/piwik/" : "https://noc.kolabsys.com/piwik/");_paq.push(["setSiteId", "8"]);_paq.push(["setTrackerUrl", u+"piwik.php"]);_paq.push(["trackPageView"]);_paq.push(["setIgnoreClasses", ["no-tracking","colorbox"]]);_paq.push(["enableLinkTracking"]);var d=document,g=d.createElement("script"),s=d.getElementsByTagName("script")[0];g.type="text/javascript";g.defer=true;g.async=true;g.src=u+"piwik.js";s.parentNode.insertBefore(g,s);})();
//--><!]]>
</script>



</body>
</html>